{% extends 'base.html' %}
{% load static %}

{% block head %}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Signika:wght@500&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Cedarville+Cursive&family=Karla:wght@519&family=Source+Sans+Pro:wght@400;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/mc-datepicker/dist/mc-calendar.min.css" rel="stylesheet" />
<link rel="stylesheet" href="{% static 'css/mcdp.css' %}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/mc-datepicker/dist/mc-calendar.min.js"></script>
<script defer src="{% static 'js/day-detail.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static 'css/detail.css' %}"/>
{% endblock %}

{% block content %}
<div class="content">
<div class="date-mood-container">
  <section class="Date">
    <div class="subsection-title">
    </div>
    <h3 class="date">Details</h3>
    <form action="{% url 'add_dating' day.id %}" method="post" class="subsection-content">
      {% csrf_token %}
      {{ dating_form.as_p }}
      <button type="submit" class="btn btn-light submit">Add Date</button>
    </form>

    <table>
      <thead>
        <tr><th>Date</th><th class="emoji">Mood emoji</th></tr>
      </thead>
      <tbody> {% for dating in day.dating_set.all %}
          <tr>
            <td class="datepost">{{dating.date}}</td>
            <td class="emoji">{{dating.get_mood_display}}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </section>
</div>

<section class="day-container">
  <div class="day-details">
    <p>Rating: <span class="item">{{day.rating}}</span></p>
    <p>Mood for the day: <span class="item">{{ day.mood }}</span></p>
    <p>Highs: <span class="item">{{day.highs }}</span></p>
    <p>Lows: <span class="item">{{day.lows }}</span></p>
    <p>Any notes to add: <span class="item">{{ day.notes }}</span></p>
    <div class="day-actions">
      <a href="{% url 'days_delete' day.id %}" class="btn btn-dark">Delete</a>
    </div>
  </div>
  </div>
</section>

{% endblock %}